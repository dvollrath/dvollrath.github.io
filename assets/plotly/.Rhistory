fig
View(europe)
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
europe <- p[which(p$isocode %in% c("USA","FRA","GBR","ESP","NLD","BEL","DNK")),]
converge <- p[which(p$isocode %in% c("USA","DEU","ITA")),]
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig <- plot_ly(converge, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
fig <- plot_ly(converge, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.04)),
hovermode="x unified")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
fig <- plot_ly(converge, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.05)),
hovermode="x unified")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.02)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.02)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gKY, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gavh, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~ghc, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~ghc, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gKY, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gavh, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(converge, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.02)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.08)),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig <- plot_ly(europe, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(converge, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig <- plot_ly(converge, x = ~year, y = ~gy, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.06)),
hovermode="x unified")
fig
fig <- plot_ly(converge, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(europe, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(converge, x = ~year, y = ~gLN, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
fig <- plot_ly(converge, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig <- layout(fig, title = list(text = '10-year growth rate of GDP per capita', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate'),
hovermode="x unified")
fig
install.packages("knitr")
shiny::runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
runApp('Dropbox/Project/StudyGuide/code/SolowBasic')
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_europe
fig_converge
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_france
fig_europe
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_europe
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_france
fig_europe
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_cap
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_europe_cap
fig_cap
fig_hc
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_hc
fig_hc <- plot_ly(europe, x = ~year, y = ~ghc, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig_hc <- layout(fig_hc, title = list(text = '10-year growth rate of human capital', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.03,.06)),
hovermode="x unified")
fig_hc
fig_prod
fig_prod <- plot_ly(europe, x = ~year, y = ~gA, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig_prod <- layout(fig_prod, title = list(text = '10-year growth rate of productivity', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.03,.08)),
hovermode="x unified")
fig_prod
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_ed
fig_LN
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_LN
fig_avh
fig_ed <- plot_ly(europe, x = ~year, y = ~ged, linetype = ~isocode, type = 'scatter', mode = 'lines')
fig_ed <- layout(fig_ed, title = list(text = '10-year growth rate of education', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = '10-year growth rate', range=c(-.01,.04)),
hovermode="x unified")
fig_ed
fig_LN
fig_hc
fig_prod
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_prod
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
saveWidget(partial_bundle(fig_europe), "~/Dropbox/Work/fig_europe.html",selfcontained = F, libdir = "lib")
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
fig_prod
source("~/Dropbox/Work/2022-12-11-PWT-Europe.r")
source("~/Dropbox/GrowthBlog/dvollrath.github.io/assets/2022-12-29-PWT-Europe.r")
source("~/Dropbox/GrowthBlog/dvollrath.github.io/assets/2022-12-29-PWT-Europe.r")
source("~/Dropbox/GrowthBlog/dvollrath.github.io/assets/2022-12-29-PWT-Europe.r")
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(OECD)
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- get_datasets
o <- get_datasets()
View(o)
o <- get_dataset("POP_PROJ")
o <- read.csv("/data/OECD_pop.csv", header=TRUE)
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
o <- o[which(o$LOCATION %in% c("USA","FRA","GBR","ESP","NLD","ITA","DEU")),]
o <- o[which(o$SEX %in% c("TT")),] # both sexes
o <- o[which(o$AGE %in% c("D1TTR5T2")),] # dependency ratio on 20-64 olds
o$workperc <- 100 - o$Value # get working age percent of all population
#o <- o[which(o$AGE %in% c("D199L500","D199L505","D199L510","D199L515","D199L520","D199L525","D199L530",
#                          "D199L535","D199L540","D199L545","D199L550","D199L555","D199L560","D199L565",
#                          "D199L570","D199L575","D199L580","D199L5M8")),] # only age bins
View(o)
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
o <- o[which(o$LOCATION %in% c("USA","FRA","GBR","ESP","NLD","ITA","DEU")),]
o <- o[which(o$SEX %in% c("TT")),] # both sexes
o <- o[which(o$AGE %in% c("D1TTR5T2")),] # dependency ratio on 20-64 olds
o$workperc <- 1/(1 + o$Value/100) # get working age percent of all population
#o <- o[which(o$AGE %in% c("D199L500","D199L505","D199L510","D199L515","D199L520","D199L525","D199L530",
#                          "D199L535","D199L540","D199L545","D199L550","D199L555","D199L560","D199L565",
#                          "D199L570","D199L575","D199L580","D199L5M8")),] # only age bins
rename(o,c("LOCATION"="isocode"))
rename(o,c("isocode"="LOCATION"))
View(o)
o <- rename(o,c("isocode"="LOCATION"))
View(o)
View(p)
View(o)
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
o <- o[which(o$LOCATION %in% c("USA","FRA","GBR","ESP","NLD","ITA","DEU")),]
o <- o[which(o$SEX %in% c("TT")),] # both sexes
o <- o[which(o$AGE %in% c("D1TTR5T2")),] # dependency ratio on 20-64 olds
o$workperc <- 1/(1 + o$Value/100) # get working age percent of all population
o <- rename(o,c("isocode"="LOCATION")) # for merging
o <- rename(o,c("year"="Time")) # for merging
data("pwt10.0") # extracts PWT data into an object called pwt10.0
p <- pwt10.0 # copy PWT data for manipulation
p <- merge(p,o,by=c("isocode","year"))
View(p)
fig <- plot_ly(p, x = ~workperc, y = ~LN, linetype = ~isocode, type = 'scatter', mode = 'markers')
fig
p$LN <- p$emp/p$pop # create employee (L) to pop (N) ratio
fig <- plot_ly(p, x = ~workperc, y = ~LN, linetype = ~isocode, type = 'scatter', mode = 'markers')
fig
fig <- plot_ly(p, x = ~workperc, y = ~LN, type = 'scatter')
fig
fig <- plot_ly(p, x = ~workperc, y = ~LN, linetype = ~isocode, type = 'scatter')
fig
fig <- plot_ly(p, x = ~year, y = ~LN, linetype = ~isocode, type = 'scatter')
fig <- layout(fig, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Consumption share',range = c(0,1)),
hovermode="x unified")
fig
fig <- plot_ly(p, x = ~year, y = ~LN, linetype = ~isocode, type = 'scatter')
fig <- layout(fig, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Employee/Pop'),
hovermode="x unified")
fig
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
o <- o[which(o$LOCATION %in% c("USA","FRA","GBR","ESP","NLD","ITA","DEU")),]
o <- o[which(o$SEX %in% c("TT")),] # both sexes
o <- o[which(o$AGE %in% c("D1TTR5T2")),] # dependency ratio on 20-64 olds
o$workperc <- 1/(1 + o$Value/100) # get working age percent of all population
o <- rename(o,c("isocode"="LOCATION")) # for merging
o <- rename(o,c("year"="Time")) # for merging
data("pwt10.0") # extracts PWT data into an object called pwt10.0
p <- pwt10.0 # copy PWT data for manipulation
p <- merge(p,o,by=c("isocode","year"))
p$LN <- p$emp/p$pop # create employee (L) to pop (N) ratio
p$LWAP <- p$LN/p$workperc
figage <- plot_ly(p, x = ~year, y = ~workperc, linetype = ~isocode, type = 'scatter')
figage <- layout(figage, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Working age pop/pop'),
hovermode="x unified")
figwork <- plot_ly(p, x = ~year, y = ~workperc, linetype = ~isocode, type = 'scatter')
figwork <- layout(figwork, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Employees/working age'),
hovermode="x unified")
figage
# Do growth accounting and prepare figures of results
#########################################################################
# Housekeeping
#########################################################################
# Necessary packages, you may have to install
library(pwt10)
library(plotly)
library(htmlwidgets)
#########################################################################
# Pick an elasticity of GDP w.r.t. capital
#########################################################################
alpha <- 0.3 # look, there is no perfectly right answer here
lags <- 10 # how many years to look backwards at growth rates
#########################################################################
# Pull PWT and OECD into dataframe
#########################################################################
o <- read.csv("~/dropbox/growthblog/dvollrath.github.io/assets/data/OECD_pop.csv", header=TRUE)
o <- o[which(o$LOCATION %in% c("USA","FRA","GBR","ESP","NLD","ITA","DEU")),]
o <- o[which(o$SEX %in% c("TT")),] # both sexes
o <- o[which(o$AGE %in% c("D1TTR5T2")),] # dependency ratio on 20-64 olds
o$workperc <- 1/(1 + o$Value/100) # get working age percent of all population
o <- rename(o,c("isocode"="LOCATION")) # for merging
o <- rename(o,c("year"="Time")) # for merging
data("pwt10.0") # extracts PWT data into an object called pwt10.0
p <- pwt10.0 # copy PWT data for manipulation
p <- merge(p,o,by=c("isocode","year"))
p$LN <- p$emp/p$pop # create employee (L) to pop (N) ratio
p$LWAP <- p$LN/p$workperc
figage <- plot_ly(p, x = ~year, y = ~workperc, linetype = ~isocode, type = 'scatter')
figage <- layout(figage, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Working age pop/pop'),
hovermode="x unified")
figwork <- plot_ly(p, x = ~year, y = ~workperc, linetype = ~isocode, type = 'scatter')
figwork <- layout(figwork, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Employees/working age'),
hovermode="x unified")
#########################################################################
# Set up function to calculation growth rates at arbitrary lags for countries
# - Takes as given that you pass a PWT object with an isocode
#########################################################################
f.grate <- function(data,name,lags){
data$v <- data[[name]] # data series to do growth rate on
data$vlag <- lag(data$v,lags) # lag the data series
data$g <- (data$v/data$vlag)^(1/lags) - 1 # calculate the growth rate
data$isolag <- lag(data$isocode,lags) # lag the isocode
data$g[data$isocode != data$isolag] <- NA # replace with NA if eval goes x country
return(round(data$g,digits=4))
}
p$y <- p$rgdpna/p$pop # create log GDP per capita
p$KY <- p$rnna/p$rgdpna # create K/Y ratio
p$LN <- p$emp/p$pop # create employee (L) to pop (N) ratio
p$gy <- f.grate(p,"y",lags) # GDP per capita
p$gKY <- f.grate(p,"KY",lags) # capital/output ratio
p$gLN <- f.grate(p,"LN",lags) # emp/pop ratio
p$gavh <- f.grate(p,"avh",lags) # average hours worked
p$ged <- f.grate(p,"hc",lags) # this is actually just education
p$gA <- round(p$gy - (alpha/(1-alpha))*p$gKY - p$gLN - p$gavh - p$ged,digits=4) # productivity growth
p$gcap <- round((alpha/(1-alpha))*p$gKY,digits=4) # net capital term
p$ghc <- round(p$gLN + p$gavh + p$ged,digits=4) # sum of all HC terms
p$gwork <- f.grate(p,"LWAP",lags)
p$gage <- f.grate(p,"workperc",lags)
figage <- plot_ly(p, x = ~year, y = ~gage, linetype = ~isocode, type = 'scatter')
figage <- layout(figage, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Working age pop/pop'),
hovermode="x unified")
figwork <- plot_ly(p, x = ~year, y = ~gwork, linetype = ~isocode, type = 'scatter')
figwork <- layout(figwork, title = list(text = 'Consumption share of GDP', x=0),
xaxis = list(title = 'Year'),
yaxis = list (title = 'Employees/working age'),
hovermode="x unified")
figage
figwork
figage
figwork
setwd("~/dropbox/GrowthBlog/dvollrath.github.io/assets/plotly") # obv change to wherever you store things
k <- read.csv("../data/KLEMSaccounting.csv", header=TRUE)
