---
layout: post
title: Measuring Misallocation across Firms
date: 2014-09-25 20:09:39.000000000 -05:00
type: post
published: true
status: publish
categories: []
tags:
- development
- empirics
- firms
- misallocation
- productivity
meta:
  _edit_last: '8005175'
  geo_public: '0'
  _publicize_pending: '1'
author:
  login: dvollrath
  email: dietz.vollrath@gmail.com
  display_name: dvollrath
  first_name: ''
  last_name: ''
---
<p>One of the most active area of research in macro development (let's not call it growth economics, I guess) is on misallocations. This is the concept that a major explanation for why some countries are rich, while others are poor, is that rich countries do a good job of allocating factors of production in an efficient manner across firms (or sectors, if you like). Poor countries do a bad job of this, so that unproductive firms use a lot of labor and capital up, while high productivity firms are too small. </p>
<p>
One of the baseline papers in this area is by <a href="http://ideas.repec.org/a/red/issued/07-48.html">Diego Restuccia and Richard Rogerson</a>, who showed that you could theoretically generate big losses to aggregate measures of productivity if you introduced firm-level distortions that acted like subsidies to unproductive firms and taxes on produtive firms. This demonstrated the possible effects of misallocation. A paper by <a href="http://ideas.repec.org/a/tpr/qjecon/v124y2009i4p1403-1448.html">Hsieh and Klenow</a> (HK) took this idea seriously, and applied the basic logic to data on firms from China, India and the U.S. to see how big of an effect misallocations actually have. </p>
<p>
We just went over this paper in my grad class this week, and so I took some time to get more deeply into the paper. The one flaw in the paper, from my perspective, was that it ran backwards. That is, HK start with a detailed model of firm-level activity and then roll this up to find the aggregate implications. Except that I think you can get the intuition of their paper much more easily by thinking about how you measure the aggregate implications, and then asking yourself how you can get the requisite firm-level data to make the aggregate calculation. So let me give you my take on the HK paper, and how to understand what they are doing. If you're seriously interested in studying growth and development, this is a paper you'll need to think about at some point, and perhaps this will help you out.</p>
<p>
<strong>This is dense with math and quite long. You were warned.</strong></p>
<p>
What do HK want to do? They want to compare the actual measured level of TFP in sector $latex {s}&amp;fg=000000$, $latex {TFP_s}&amp;fg=000000$, to a hypothetical level of TFP in sector $latex {s}&amp;fg=000000$, $latex {TFP^{\ast}_s}&amp;fg=000000$, that we would measure if we allocated all factors efficiently between firms.</p>
<p>
Let's start by asking how we can measure $latex {TFP_s}&amp;fg=000000$ given observable data on firms. This is
<p align="center">$latex \displaystyle  TFP_s = \frac{Y_s}{K_s^{\alpha}L_s^{1-\alpha}}, \ \ \ \ \ (1)&amp;fg=000000$</p>
<p> which is just measuring $latex {TFP_s}&amp;fg=000000$ for a sector as a Solow residual. $latex {TFP_s}&amp;fg=000000$ is not a pure measure of ``technology'', it is a measure of residual productivity, capturing everything that influences how much output ($latex {Y_s}&amp;fg=000000$) we can get from a given bundle of inputs ($latex {K_s^{\alpha}L_s^{1-\alpha}}&amp;fg=000000$). It includes not just the physical productivity of individual firms in this sector, but also the efficiency of the distribution of the factors across those firms.</p>
<p>
Now, the issue is that we cannot measure $latex {Y_s}&amp;fg=000000$ directly. For a sector, this is some kind of measure of real output (e.g. units of goods), but there is no data on that. The data we have is on revenues of firms within the sector (e.g. dollars of goods sold). So what HK are going to do is use this revenue data, and then make some assumptions about how firms set prices to try and back out the real output measure. It's actually easier to see in the math. First, just write $latex {TFP_s}&amp;fg=000000$ as
<p align="center">$latex \displaystyle  TFP_s =\frac{P_s Y_s}{K_s^{\alpha}L_s^{1-\alpha}}\frac{1}{P_s} = \overline{TFPR}_s \frac{1}{P_s} \ \ \ \ \ (2)&amp;fg=000000$</p>
<p> which just multiplies and divides by the price index for sector $latex {s}&amp;fg=000000$. The first fraction is <i>revenue productivity</i>, or $latex {\overline{TFPR}_s}&amp;fg=000000$, of sector $latex {s}&amp;fg=000000$. This is a residual measure as well, but measures how produtive sector $latex {s}&amp;fg=000000$ is at producing dollars, rather than at producing units of goods. The good thing about $latex {TFPR_s}&amp;fg=000000$ is that we can calculate this from the data. Take the revenues of all the firms in sector $latex {s}&amp;fg=000000$, and that is equal to total revenues $latex {P_s Y_s}&amp;fg=000000$. We can add up the reported capital stocks across all firms, and labor forces across all firms, and get $latex {K_s}&amp;fg=000000$ and $latex {L_s}&amp;fg=000000$, respectively. We can find a value for $latex {\alpha}&amp;fg=000000$ based on the size of wage payments relative revenues (which should be close to $latex {1-\alpha}&amp;fg=000000$). So all this is conceptually measurable.</p>
<p>
The second fraction is one over the price index $latex {P_s}&amp;fg=000000$. We do <i>not</i> have data on this price index, because we don't know the individual prices of each firms output. So here is where the assumptions regarding firm behavior come in. HK assume a monopolistically competitive structure for firms within each sector. This means that each firm has monopoly power over producing its own brand of good, but people are willing to substitute between those different brands. As long as the brands aren't perfectly substitutable, then each firm can charge a price a little over the marginal cost of production. We're going to leave aside the micro-economics of that structure for the time being. For now, just trust me that if these firms are monopolistically competitive, then the price index can be written as
<p align="center">$latex \displaystyle  P_s = \left(\sum_i P_i^{1-\sigma} \right)^{1/(1-\sigma)} \ \ \ \ \ (3)&amp;fg=000000$</p>
<p> where $latex {P_i}&amp;fg=000000$ are the individual prices from each firm, and $latex {\sigma}&amp;fg=000000$ is the elasticity of substitution between different firms goods. </p>
<p>
Didn't I just say that we do not observe those individual firm prices? Yes, I did. But we don't need to observe them. For any individual firm, we can also think of <i>revenue productivity</i> as opposed to their <i>physical productivity</i>, denoted $latex {A_i}&amp;fg=000000$. That is, we can write
<p align="center">$latex \displaystyle  TFPR_i = P_i A_i. \ \ \ \ \ (4)&amp;fg=000000$</p>
<p> The firms productivity at producing dollars ($latex {TFPR_i}&amp;fg=000000$) is the price they can charge ($latex {P_i}&amp;fg=000000$) times their physical productivity ($latex {A_i}&amp;fg=000000$). We can re-arrange this to be
<p align="center">$latex \displaystyle  P_i = \frac{TFPR_i}{A_i}. \ \ \ \ \ (5)&amp;fg=000000$</p>
<p> Put this expression for firm-level prices into the price index $latex {P_s}&amp;fg=000000$ we found above. You get
<p align="center">$latex \displaystyle  P_s = \left(\sum_i \left[\frac{TFPR_i}{A_i}\right]^{1-\sigma} \right)^{1/(1-\sigma)} \ \ \ \ \ (6)&amp;fg=000000$</p>
<p> which depends only on firm-level measure of $latex {TFPR_i}&amp;fg=000000$ and physical productivity $latex {A_i}&amp;fg=000000$. We no longer need prices.</p>
<p>
For the sector level $latex {TFP_s}&amp;fg=000000$, we now have
<p align="center">$latex \displaystyle  TFP_s = \overline{TFPR}_s \frac{1}{P_s} = \frac{\overline{TFPR}_s}{\left(\sum_i \left[\frac{TFPR_i}{A_i}\right]^{1-\sigma} \right)^{1/(1-\sigma)}}. \ \ \ \ \ (7)&amp;fg=000000$</p>
<p> At this point, there is just some slog of algebra to get to the following
<p align="center">$latex \displaystyle  TFP_s = \left(\sum_i \left[A_i \frac{\overline{TFPR}_s}{TFPR_i}\right]^{\sigma-1} \right)^{1/(\sigma-1)}. \ \ \ \ \ (8)&amp;fg=000000$</p>
<p> If you're following along at home, just note that the exponents involving $latex {\sigma}&amp;fg=000000$ flipped sign, and that can hang you up on the algebra if you're not careful. </p>
<p>
Okay, so now I have this description of how to measure $latex {TFP_s}&amp;fg=000000$. I need information on four things. (1) Firm-level physical productivities, $latex {A_i}&amp;fg=000000$, (2) sector-level revenue productivity, $latex {\overline{TFPR}_s}&amp;fg=000000$, (3) firm-level revenue productivities, $latex {TFPR_i}&amp;fg=000000$, and (4) a value for $latex {\sigma}&amp;fg=000000$. Of these, we can appeal to the literature and assume a value of $latex {\sigma}&amp;fg=000000$, say something like a value of 5, which implies goods are fairly substitutable. We can measure sector-level and firm-level revenue productivities directly from the firm-level data we have. The one big piece of information we don't have is $latex {A_i}&amp;fg=000000$, the physical productivity of each firm. </p>
<p>
Before describing how we're going to find $latex {A_i}&amp;fg=000000$, just consider this measurement of $latex {TFP_s}&amp;fg=000000$ for a moment. What this equation says is that $latex {TFP_s}&amp;fg=000000$ is a weighted sum of the individual firm level physical productivity terms, $latex {A_i}&amp;fg=000000$. That makes some sense. Physical productivity of a sector must depend on the productivity of the firms in that sector.</p>
<p>
Mechanically, $latex {TFP_s}&amp;fg=000000$ is a concave function of all the stuff in the parentheses, given that $latex {1/(\sigma-1)}&amp;fg=000000$ is less than one. Meaning that $latex {TFP_s}&amp;fg=000000$ goes up as the values in the summation rise, but at a decreasing rate. More importantly, for what HK are doing, this implies that the greater the variation in the individual firm-level terms of the summation, the <i>lower</i> is $latex {TFP_s}&amp;fg=000000$. That is, you'd rather have two firms that have similar productivity levels than one firm with a really big productivity level and one firm with a really small one. Why? Because we have imperfect substitution between the output of the firms. Which means that we'd like to consume goods in somewhat rigid proportions (think Leontief perfect complements). For example, I really like to consume one pair of pants and one shirt at the same time. If the pants factory is really, really productive, then I can lots of pants for really cheap. If the shirt factory is really un-productivie, I can only get a few shirts for a high price. To consume pants/shirts in the desired 1:1 ratio I will end up having to shift factors away from the pants factor and towards the shirt factory. This lowers my sector level productivity.</p>
<p>
There is nothing that HK can or will do about variation in $latex {A_i}&amp;fg=000000$ across firms. That is taken as a given. Some firms are more productive than others. But what they are interested in is the variation driven by the $latex {TFPR_i}&amp;fg=000000$ terms. Here, we just have the extra funkiness that the summation depends on these inversely. So a firm with a really high $latex {TFPR_i}&amp;fg=000000$ is like having a really physically unproductive firm. Why? Think in terms of the prices that firms charge for their goods. A high $latex {TFPR_i}&amp;fg=000000$ means that firms are charging a relatively high price compared to the rest of the sector. Similarly, a firm with a really low $latex {A_i}&amp;fg=000000$ (like our shirt factory above) would also be charging a relatively high price compared to the rest of the sector. So having variation in $latex {TFPR_i}&amp;fg=000000$ across firms is like having variation in $latex {A_i}&amp;fg=000000$, and this variation lowers $latex {TFP_s}&amp;fg=000000$.</p>
<p>
However, as HK point out, if markets are operating efficiently then there should be <i>no</i> variation in $latex {TFPR_i}&amp;fg=000000$ across firms. While a high $latex {TFPR_i}&amp;fg=000000$ is similar to a low $latex {A_i}&amp;fg=000000$ in its effect on $latex {TFP_s}&amp;fg=000000$, the high $latex {TFPR_i}&amp;fg=000000$ arises for a fundamentally different reason. The only reason a firm would have a high $latex {TFPR_i}&amp;fg=000000$ compared to the rest of the sector is if it faced higher input costs and/or higher taxes on revenues than other firms. In other words, firms would only be charging more than expected if they had higher costs than expected or were able to keep less of their revenue. </p>
<p>
In the absence of different input costs and/or different taxes on revenues, then we'd expect all firms in the sector to have identical $latex {TFPR_i}&amp;fg=000000$. Because if they didn't, then firms with high $latex {TFPR_i}&amp;fg=000000$ could bid away factors of production from low $latex {TFPR_i}&amp;fg=000000$ firms. But as high $latex {TFPR_i}&amp;fg=000000$ firms get bigger and produce more, the price they can charge will get driven down (and vice versa for low $latex {TFPR_i}&amp;fg=000000$ firms), and eventually the $latex {TFPR_i}&amp;fg=000000$ terms should all equate. </p>
<p>
For HK, then, the level of $latex {TFP_s}&amp;fg=000000$ that you could get if all factors were allocated efficiently (meaning that firms didn't face differential input costs or revenue taxes) is one where $latex {TFPR_i = \overline{TFPR}_s}&amp;fg=000000$ for all firms. Meaning that
<p align="center">$latex \displaystyle  TFP^{\ast}_s = \left(\sum_i A_i^{\sigma-1} \right)^{1/(\sigma-1)}. \ \ \ \ \ (9)&amp;fg=000000$</p>
<p> So what HK do is calculate both $latex {TFP^{\ast}_s}&amp;fg=000000$ and $latex {TFP_s}&amp;fg=000000$ (as above), and compare.</p>
<p>
To do this, I already mentioned that the one piece of data we are missing is the $latex {A_i}&amp;fg=000000$ terms. We need to know the actual physical productivity of firms. How do we get that, since we cannot measure physical output at the firm level? HK's assumption about market structure will allow us to figure that out. So hold on to the results of $latex {TFP_s}&amp;fg=000000$ and $latex {TFP^{\ast}_s}&amp;fg=000000$ for a moment, and let's talk about firms. For those of you comfortable with monopolistic competition models using CES aggregators, this is just textbook stuff. I'm going to present it without lots of derivations, but you can check my work if you want. </p>
<p>
For each firm, we assume the production function is
<p align="center">$latex \displaystyle  Y_i = A_i K_i^{\alpha}L_i^{1-\alpha} \ \ \ \ \ (10)&amp;fg=000000$</p>
<p> and we'd like to back out $latex {A_i}&amp;fg=000000$ as
<p align="center">$latex \displaystyle  A_i = \frac{Y_i}{K_i^{\alpha}L_i^{1-\alpha}} \ \ \ \ \ (11)&amp;fg=000000$</p>
<p> but we don't know the value of $latex {Y_i}&amp;fg=000000$. So we'll back it out from revenue data.</p>
<p>
Given that the elasticity of substitution across firms goods is $latex {\sigma}&amp;fg=000000$, and all firms goods are weighted the same in the utility function (or final goods production function), then the demand curve facing each firm is
<p align="center">$latex \displaystyle  P_i = Y_i^{(\sigma-1)/\sigma - 1} X_s \ \ \ \ \ (12)&amp;fg=000000$</p>
<p> where $latex {X_s}&amp;fg=000000$ is a demand shifter that depends on the amount of the other goods consumed/produced. We going to end up carrying this term around with us, but it's exact derivation isn't necessary for anything. Total revenues of the firm are just
<p align="center">$latex \displaystyle  (P_i Y_i) = Y_i^{(\sigma-1)/\sigma} X_s. \ \ \ \ \ (13)&amp;fg=000000$</p>
<p> Solve this for $latex {Y_i}&amp;fg=000000$, leaving $latex {(P_i Y_i)}&amp;fg=000000$ together as revenues. This gives you
<p align="center">$latex \displaystyle  Y_i = \left(\frac{P_i Y_i}{X_s}\right)^{\sigma/(\sigma-1)}. \ \ \ \ \ (14)&amp;fg=000000$</p>
<p> Plug this in our equation for $latex {A_i}&amp;fg=000000$ to get
<p align="center">$latex \displaystyle  A_i = \frac{1}{X_s^{\sigma/(\sigma-1)}}\frac{\left(P_i Y_i\right)^{\sigma/(\sigma-1)}}{K_i^{\alpha}L_i^{1-\alpha}}. \ \ \ \ \ (15)&amp;fg=000000$</p>
<p>
This last expression gives us a way to back out $latex {A_i}&amp;fg=000000$ from observable data. We know revenues, $latex {P_i Y_i}&amp;fg=000000$, capital, $latex {K_i}&amp;fg=000000$, and labor, $latex {L_i}&amp;fg=000000$. The only issue is this $latex {X_s}&amp;fg=000000$ thing. But $latex {X_s}&amp;fg=000000$ is identical for each firm - it's a sector-wide demand term - so we don't need to know it. It just scales up or down all the firms in a sector. Both $latex {TFP_s}&amp;fg=000000$ and $latex {TFP^{\ast}_s}&amp;fg=000000$ will be proportional to $latex {X_s}&amp;fg=000000$, so when comparing them $latex {X_s}&amp;fg=000000$ will just cancel out. We don't need to measure it.</p>
<p>
What is our $latex {A_i}&amp;fg=000000$ measure picking up? Well, under the assumption that firms in fact face a demand curve like we described, then $latex {A_i}&amp;fg=000000$ is picking up their physical productivity. If physical ouput, $latex {Y_i}&amp;fg=000000$, goes up then so will revenues, $latex {P_i Y_i}&amp;fg=000000$. But not proportionally, as with more output the firm will charge a lower price. Remember, the pants factory has to get people to buy all those extra pants, even though they kind of don't want them because there aren't many shirts around. So the price falls. Taking revenues to the $latex {\sigma/(\sigma-1)}&amp;fg=000000$ power captures that effect.</p>
<p>
Where are we? We now have a firm-level measure of $latex {A_i}&amp;fg=000000$, and we can measure it from observable data on revenues, capital stocks, and labor forces at the firm level. This allows us to measure both actual $latex {TFP_s}&amp;fg=000000$, and the hypothetical $latex {TFP^{\ast}_s}&amp;fg=000000$ when each firm faces identical factor costs and revenues taxes. HK compare these two measures of TFP, and find that in China $latex {TFP^{\ast}_s}&amp;fg=000000$ is about 86-115&#037; higher than $latex {TFP_s}&amp;fg=000000$, or that output would nearly double if firms all faced the same factor costs and revenue taxes. In India, the gain is on the order of 100-120&#037;, and for the U.S. the gain is something like 30-43&#037;. So substantial increases all the way around, but much larger in the developing countries. Hence HK conclude that misallocations - meaning firms facing different costs and/or taxes and hence having different $latex {TFPR_i}&amp;fg=000000$ - could be an important explanation for why some places are rich and some are poor. Poor countries presumably do a poor job (perhaps through explicit policies or implicit frictions) in allocating resources efficiently between firms, and low-productivity firms use too many inputs. </p>
<p>
<strong>* A note on wedges *</strong> For those of you who know this paper, you'll notice I haven't said a word about ``wedges'', which are the things that generate differences in factor costs or revenues for firms. That's because from a purely computational standpoint, you don't need to introduce them to get HK's results. It's sufficient just to measure the $latex {TFPR_i}&amp;fg=000000$ levels. If you wanted to play around with removing just the factor cost wedges or just the revenue wedges, you would then need to incorporate those explicitly. That would require you to follow through on the firms profit maximization problem and solve for an explicit expression for $latex {TFPR_i}&amp;fg=000000$. In short, that will give you this:
<p align="center">$latex \displaystyle  TFPR_i = \frac{\sigma}{\sigma-1} MC_s \frac{(1+\tau_{Ki})^{\alpha}}{1-\tau_{Yi}}. \ \ \ \ \ (16)&amp;fg=000000$</p>
<p> The first fraction, $latex {\sigma/(\sigma-1)}&amp;fg=000000$, is the markup charged over marginal cost by the firm. As the elasticity of substitution is assumed to be constant, this markup is identical for each firm, so generates no variation in $latex {TFPR_i}&amp;fg=000000$. The second term, $latex {MC_s}&amp;fg=000000$, is the marginal cost of a bundle of inputs (capital and labor). The final fraction are the ``wedges''. $latex {(1+\tau_{Ki})}&amp;fg=000000$ captures the additional cost (or subsidy if $latex {\tau_{Ki}&lt;0}&amp;fg=000000$) of a unit of capital to the firm relative to other firms. $latex {(1-\tau_{Yi})}&amp;fg=000000$ captures the revenue wedge (think of a sales tax or subsidy) for a firm relative to other firms. If either of those $latex {\tau}&amp;fg=000000$ terms are not equal to zero, then $latex {TFPR_i}&amp;fg=000000$ will deviate from the efficient level.</p>
<p>
<strong>* A note on multiple sectors *</strong> HK do this for all manufacturing sectors. That's not a big change. Do what I said for each separate sector. Assume that each sector has a constant share of total expenditure (as in a Cobb-Douglas utility function). Then
<p align="center">$latex \displaystyle  \frac{TFP^{\ast}_{all}}{TFP_{all}} = \left(\frac{TFP^{\ast}_1}{TFP_1}\right)^{\theta_1} \times \left(\frac{TFP^{\ast}_2}{TFP_2}\right)^{\theta_2} \times ... \ \ \ \ \ (17)&amp;fg=000000$</p>
<p> where $latex {\theta_s}&amp;fg=000000$ is the expenditure share of sector $latex {s}&amp;fg=000000$. </p></p></p></p></p></p></p></p></p></p></p></p></p>
